"use strict";(self.webpackChunkcomputerization_website=self.webpackChunkcomputerization_website||[]).push([[2762],{8980:function(s,a,e){e.r(a),e.d(a,{Question:function(){return h},assets:function(){return c},contentTitle:function(){return m},frontMatter:function(){return t},metadata:function(){return i},toc:function(){return r}});var n=e(308),l=e(4997);const t={title:"Factorial string",authors:"doremyswee",tags:["algorithm"]},m=void 0,i={permalink:"/en/blog/2020/11/04/algorithm3",source:"@site/i18n/en/docusaurus-plugin-content-blog/2020-11-04-algorithm3.mdx",title:"Factorial string",description:"This is the first activity of Computerization algorithm team. We discussed a problem from Shanghai NOI regional selection, which leverages state compression dynamic programming. The mathematics is beyond our capacity to be rigorously proven.",date:"2020-11-04T00:00:00.000Z",formattedDate:"November 4, 2020",tags:[{label:"algorithm",permalink:"/en/blog/tags/algorithm"}],readingTime:3.125,hasTruncateMarker:!0,authors:[{name:"DoremySwee",title:"Member of '22 Algorithm team",url:"https://github.com/DoremySwee",imageURL:"https://github.com/DoremySwee.png",key:"doremyswee"}],frontMatter:{title:"Factorial string",authors:"doremyswee",tags:["algorithm"]},unlisted:!1,prevItem:{title:"Livestock Lineup",permalink:"/en/blog/2020/12/02/algorithm5"},nextItem:{title:"Fibonacci sequence",permalink:"/en/blog/2020/10/10/algorithm1"}},c={authorsImageUrls:[void 0]},r=[{value:"Problem",id:"problem",level:2},{value:"Solution",id:"solution",level:2},{value:"Program",id:"program",level:2}],h=({children:s,color:a})=>{const e=Object.assign({div:"div"},(0,l.ah)());return(0,n.jsx)(e.div,{style:{backgroundColor:a,borderRadius:"10px",color:"#fff",padding:"1em",marginBottom:"1em",marginTop:"1em"},children:s})};function x(s){const a=Object.assign({p:"p",h2:"h2",span:"span",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",annotation:"annotation",em:"em",mo:"mo",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",mn:"mn",msup:"msup",div:"div",mtable:"mtable",mtr:"mtr",mtd:"mtd",mstyle:"mstyle",mtext:"mtext",code:"code",pre:"pre"},(0,l.ah)(),s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.p,{children:"This is the first activity of Computerization algorithm team. We discussed a problem from Shanghai NOI regional selection, which leverages state compression dynamic programming. The mathematics is beyond our capacity to be rigorously proven."}),"\n","\n",(0,n.jsx)(a.h2,{id:"problem",children:"Problem"}),"\n",(0,n.jsxs)(h,{color:"#1d85c2",children:[(0,n.jsx)("a",{href:"https://www.luogu.com.cn/problem/P3989",children:"Problem link"}),(0,n.jsxs)(a.p,{children:["Given a string ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})})," composed of the first ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"n"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"})]})})]})})," lower-case letters, ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})})," is a ",(0,n.jsx)(a.em,{children:"factorial string"})," if all the permutations of the first ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"n"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"})]})})]})})," lower-case letters (there are ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"!"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n!"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mclose",children:"!"})]})})]})})," of them)\uff08\u5171",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"!"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n!"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mclose",children:"!"})]})})]})}),"\u79cd\uff09are subsequences (not necessarily consecutive) of ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),"."]}),(0,n.jsx)(a.p,{children:"Given this definition, we can easily verify if a sequence is factorial by bashing, but it's too slow. Please design an algorithm that verifies if a string is factorial in 1 second."}),(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Input constraints"}),(0,n.jsx)(a.th,{children:"Memory limit"}),(0,n.jsx)(a.th,{children:"Execution time"})]})}),(0,n.jsx)(a.tbody,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsxs)(a.td,{children:[(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{mathvariant:"normal",children:"\u2225"}),(0,n.jsx)(a.mi,{children:"S"}),(0,n.jsx)(a.mi,{mathvariant:"normal",children:"\u2225"}),(0,n.jsx)(a.mo,{children:"\u2264"}),(0,n.jsx)(a.mn,{children:"450"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"\\|S\\|\\le 450"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(a.span,{className:"mord",children:"\u2225"}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),(0,n.jsx)(a.span,{className:"mord",children:"\u2225"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u2264"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"450"})]})]})]})}),", ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"\u2264"}),(0,n.jsx)(a.mn,{children:"26"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n\\le 26"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u2264"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"26"})]})]})]})})]}),(0,n.jsx)(a.td,{children:"125MB"}),(0,n.jsx)(a.td,{children:"1.0s"})]})})]})]}),"\n",(0,n.jsx)(a.h2,{id:"solution",children:"Solution"}),"\n",(0,n.jsx)(a.p,{children:"The bashing solution is obviously enumerating all permutations and checking if they are subsequences. You get 30% of the score from this method, but the program is pretty meaningless, and the factorial time complexity prohibits further optimization, so we don't discuss further on this attempt."}),"\n",(0,n.jsxs)(a.p,{children:["Now consider the rest 70% marks. For ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"\u2264"}),(0,n.jsx)(a.mn,{children:"20"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n\\le 20"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u2264"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"20"})]})]})]})})," we may consider an ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{mathvariant:"script",children:"O"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsxs)(a.msup,{children:[(0,n.jsx)(a.mn,{children:"2"}),(0,n.jsx)(a.mi,{children:"n"})]}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"\\mathcal{O}(2^n)"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(a.span,{className:"mord mathcal",style:{marginRight:"0.02778em"},children:"O"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord",children:"2"}),(0,n.jsx)(a.span,{className:"msupsub",children:(0,n.jsx)(a.span,{className:"vlist-t",children:(0,n.jsx)(a.span,{className:"vlist-r",children:(0,n.jsx)(a.span,{className:"vlist",style:{height:"0.6644em"},children:(0,n.jsxs)(a.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(a.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(a.span,{className:"mord mathnormal mtight",children:"n"})})]})})})})})]}),(0,n.jsx)(a.span,{className:"mclose",children:")"})]})})]})})," algorithm. Since a full enumeration is not possible, we shall turn to state compression dynamic programming, and enumerate if a letter exists in the state. Since we need to find if all permutations of the first ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"n"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"})]})})]})})," letters exist in ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),", we will keep track of the earliest occurence of ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"x"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"x"})]})})]})})," in ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})}),"."]}),"\n",(0,n.jsx)(a.p,{children:"The state transfer equation:"}),"\n",(0,n.jsx)(a.div,{className:"math math-display",children:(0,n.jsx)(a.span,{className:"katex-display",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mtable,{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em",children:[(0,n.jsxs)(a.mtr,{children:[(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"f"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsx)(a.mi,{children:"a"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"b"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"c"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"e"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mi,{children:"max"}),(0,n.jsx)(a.mo,{children:"\u2061"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("})]})})}),(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mrow,{}),(0,n.jsx)(a.mtext,{children:"first\xa0"}),(0,n.jsx)(a.mtext,{mathvariant:"monospace",children:"\u2018e\u2019"}),(0,n.jsx)(a.mtext,{children:"\xa0from\xa0"}),(0,n.jsx)(a.mi,{children:"f"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsx)(a.mi,{children:"a"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"b"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"c"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"}),(0,n.jsx)(a.mo,{separator:"true",children:","})]})})})]}),(0,n.jsxs)(a.mtr,{children:[(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsx)(a.mrow,{})})}),(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mrow,{}),(0,n.jsx)(a.mtext,{children:"first\xa0"}),(0,n.jsx)(a.mtext,{mathvariant:"monospace",children:"\u2018c\u2019"}),(0,n.jsx)(a.mtext,{children:"\xa0from\xa0"}),(0,n.jsx)(a.mi,{children:"f"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsx)(a.mi,{children:"a"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"b"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"e"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"}),(0,n.jsx)(a.mo,{separator:"true",children:","})]})})})]}),(0,n.jsxs)(a.mtr,{children:[(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsx)(a.mrow,{})})}),(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mrow,{}),(0,n.jsx)(a.mtext,{children:"first\xa0"}),(0,n.jsx)(a.mtext,{mathvariant:"monospace",children:"\u2018b\u2019"}),(0,n.jsx)(a.mtext,{children:"\xa0from\xa0"}),(0,n.jsx)(a.mi,{children:"f"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsx)(a.mi,{children:"a"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"c"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"e"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"}),(0,n.jsx)(a.mo,{separator:"true",children:","})]})})})]}),(0,n.jsxs)(a.mtr,{children:[(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsx)(a.mrow,{})})}),(0,n.jsx)(a.mtd,{children:(0,n.jsx)(a.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mrow,{}),(0,n.jsx)(a.mtext,{children:"first\xa0"}),(0,n.jsx)(a.mtext,{mathvariant:"monospace",children:"\u2018a\u2019"}),(0,n.jsx)(a.mtext,{children:"\xa0from\xa0"}),(0,n.jsx)(a.mi,{children:"f"}),(0,n.jsx)(a.mo,{stretchy:"false",children:"("}),(0,n.jsx)(a.mi,{children:"b"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"c"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mi,{children:"e"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"}),(0,n.jsx)(a.mo,{stretchy:"false",children:")"})]})})})]})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"  \\begin{aligned}\n    f(a,b,c,e)=\\max(&\\text{first }\\texttt{`e'}\\text{ from }f(a,b,c), \\\\\n    &\\text{first }\\texttt{`c'}\\text{ from }f(a,b,e), \\\\\n    &\\text{first }\\texttt{`b'}\\text{ from }f(a,c,e), \\\\\n    &\\text{first }\\texttt{`a'}\\text{ from }f(b,c,e))\n  \\end{aligned}"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"6em",verticalAlign:"-2.75em"}}),(0,n.jsx)(a.span,{className:"mord",children:(0,n.jsxs)(a.span,{className:"mtable",children:[(0,n.jsx)(a.span,{className:"col-align-r",children:(0,n.jsxs)(a.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(a.span,{className:"vlist-r",children:[(0,n.jsxs)(a.span,{className:"vlist",style:{height:"3.25em"},children:[(0,n.jsxs)(a.span,{style:{top:"-5.41em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"b"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"c"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"e"}),(0,n.jsx)(a.span,{className:"mclose",children:")"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mop",children:"max"}),(0,n.jsx)(a.span,{className:"mopen",children:"("})]})]}),(0,n.jsxs)(a.span,{style:{top:"-3.91em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(a.span,{className:"mord"})]}),(0,n.jsxs)(a.span,{style:{top:"-2.41em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(a.span,{className:"mord"})]}),(0,n.jsxs)(a.span,{style:{top:"-0.91em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(a.span,{className:"mord"})]})]}),(0,n.jsx)(a.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(a.span,{className:"vlist-r",children:(0,n.jsx)(a.span,{className:"vlist",style:{height:"2.75em"},children:(0,n.jsx)(a.span,{})})})]})}),(0,n.jsx)(a.span,{className:"col-align-l",children:(0,n.jsxs)(a.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(a.span,{className:"vlist-r",children:[(0,n.jsxs)(a.span,{className:"vlist",style:{height:"3.25em"},children:[(0,n.jsxs)(a.span,{style:{top:"-5.41em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord"}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"first\xa0"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord texttt",children:"\u2018e\u2019"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"\xa0from\xa0"})}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"b"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"c"}),(0,n.jsx)(a.span,{className:"mclose",children:")"}),(0,n.jsx)(a.span,{className:"mpunct",children:","})]})]}),(0,n.jsxs)(a.span,{style:{top:"-3.91em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord"}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"first\xa0"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord texttt",children:"\u2018c\u2019"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"\xa0from\xa0"})}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"b"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"e"}),(0,n.jsx)(a.span,{className:"mclose",children:")"}),(0,n.jsx)(a.span,{className:"mpunct",children:","})]})]}),(0,n.jsxs)(a.span,{style:{top:"-2.41em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord"}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"first\xa0"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord texttt",children:"\u2018b\u2019"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"\xa0from\xa0"})}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"c"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"e"}),(0,n.jsx)(a.span,{className:"mclose",children:")"}),(0,n.jsx)(a.span,{className:"mpunct",children:","})]})]}),(0,n.jsxs)(a.span,{style:{top:"-0.91em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord"}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"first\xa0"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord texttt",children:"\u2018a\u2019"})}),(0,n.jsx)(a.span,{className:"mord text",children:(0,n.jsx)(a.span,{className:"mord",children:"\xa0from\xa0"})}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,n.jsx)(a.span,{className:"mopen",children:"("}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"b"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"c"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"e"}),(0,n.jsx)(a.span,{className:"mclose",children:"))"})]})]})]}),(0,n.jsx)(a.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(a.span,{className:"vlist-r",children:(0,n.jsx)(a.span,{className:"vlist",style:{height:"2.75em"},children:(0,n.jsx)(a.span,{})})})]})})]})})]})})]})})}),"\n",(0,n.jsxs)(a.p,{children:["But if every lookup is done by a loop, we would exceed the time limit and only get 50 points, so we need some preprocessing. We can conduct binary search after preprocessing, but for the sake of convenience, it may be better to maintain another array that marks the position of the next target letter at every position. The time for this is just ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mn,{children:"450"}),(0,n.jsx)(a.mo,{children:"\xd7"}),(0,n.jsx)(a.mn,{children:"26"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"450\\times 26"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(a.span,{className:"mord",children:"450"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(a.span,{className:"mbin",children:"\xd7"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"26"})]})]})]})}),"."]}),"\n",(0,n.jsxs)(a.p,{children:["Now, consider the remaining marks. We notice that for large enough ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"n"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"})]})})]})}),", we can just output ",(0,n.jsx)(a.code,{children:'"No"'}),". But how do we determine the exact threshold? If the construction is like ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mn,{children:"3"}),(0,n.jsx)(a.mtext,{children:"\u2005\u200a"}),(0,n.jsx)(a.mo,{children:"\u27f9"}),(0,n.jsx)(a.mtext,{children:"\u2005\u200a"}),(0,n.jsx)(a.mi,{children:"S"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"a"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"c"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"a"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"})]})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n=3\\implies S=\\mathtt{abcbab}"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6684em",verticalAlign:"-0.024em"}}),(0,n.jsx)(a.span,{className:"mord",children:"3"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u27f9"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6111em"}}),(0,n.jsx)(a.span,{className:"mord",children:(0,n.jsx)(a.span,{className:"mord mathtt",children:"abcbab"})})]})]})]})}),"\uff0c",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mn,{children:"4"}),(0,n.jsx)(a.mtext,{children:"\u2005\u200a"}),(0,n.jsx)(a.mo,{children:"\u27f9"}),(0,n.jsx)(a.mtext,{children:"\u2005\u200a"}),(0,n.jsx)(a.mi,{children:"S"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"a"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"c"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"d"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"c"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"a"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"c"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"d"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"c"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"b"}),(0,n.jsx)(a.mi,{mathvariant:"monospace",children:"a"})]})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n=4\\implies S=\\mathtt{abcdcbabcdcba}"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6684em",verticalAlign:"-0.024em"}}),(0,n.jsx)(a.span,{className:"mord",children:"4"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u27f9"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6111em"}}),(0,n.jsx)(a.span,{className:"mord",children:(0,n.jsx)(a.span,{className:"mord mathtt",children:"abcdcbabcdcba"})})]})]})]})}),", the length of ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"S"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"S"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"})]})})]})})," is about ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsxs)(a.msup,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mn,{children:"2"})]}),(0,n.jsx)(a.mo,{children:"\u2212"}),(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"+"}),(0,n.jsx)(a.mn,{children:"1"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n^2-n+1"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.8974em",verticalAlign:"-0.0833em"}}),(0,n.jsxs)(a.span,{className:"mord",children:[(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"msupsub",children:(0,n.jsx)(a.span,{className:"vlist-t",children:(0,n.jsx)(a.span,{className:"vlist-r",children:(0,n.jsx)(a.span,{className:"vlist",style:{height:"0.8141em"},children:(0,n.jsxs)(a.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(a.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(a.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(a.span,{className:"mord mtight",children:"2"})})]})})})})})]}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(a.span,{className:"mbin",children:"\u2212"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(a.span,{className:"mbin",children:"+"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"1"})]})]})]})}),"\uff0c",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"\u2264"}),(0,n.jsx)(a.mn,{children:"21"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n\\le 21"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u2264"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"21"})]})]})]})}),", but we weren't able to prove it rigorously. To be on the safer side, because the runtime is still acceptable for ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mn,{children:"22"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n=22"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"22"})]})]})]})}),", we choose to output ",(0,n.jsx)(a.code,{children:'"No"'})," for ",(0,n.jsx)(a.span,{className:"math math-inline",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"\u2265"}),(0,n.jsx)(a.mn,{children:"23"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n\\ge 23"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.7719em",verticalAlign:"-0.136em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"\u2265"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"23"})]})]})]})}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"program",children:"Program"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-cpp",children:'#include <iostream>\n\nusing namespace std;\n\nint main(){\n    int t;\n    cin >> t;\n    while (t--) {\n        int n;\n        cin >> n;\n        string s;\n        cin >> s;\n        if (n >= 23) {\n            cout << "NO" << endl;\n        } else {\n            short NEXT[26][450];\n            for (int i = s.length() - 1; i >= 0; i--) {\n                if (i == s.length() - 1) {\n                    for (int j = 0; j < 26; j++)\n                        NEXT[j][i] = -1;\n                } else {\n                    for (int j = 0; j < 26; j++)\n                        NEXT[j][i] = NEXT[j][i + 1];\n                }\n                NEXT[s[i] - \'a\'][i] = i;\n            }\n            short *f = new short[1 << n];\n            for (int i = 0; i < (1 << n); i++) {\n                f[i] = 0;\n                for (int j = 0; (1 << j) <= i; j++) {\n                    if (i & (1 << j)) {\n                        if (NEXT[j][f[i - (1 << j)]] == -1) {\n                            cout << "NO" << endl;\n                            return 0;\n                        }\n                        f[i] = max(f[i], NEXT[j][f[i - (1 << j)]]);\n                    }\n                }\n            }\n            cout << "YES" << endl;\n        }\n    }\n}\n'})})]})}a.default=function(s={}){const{wrapper:a}=Object.assign({},(0,l.ah)(),s.components);return a?(0,n.jsx)(a,Object.assign({},s,{children:(0,n.jsx)(x,s)})):x(s)}},4997:function(s,a,e){e.d(a,{Zo:function(){return i},ah:function(){return t}});var n=e(6677);const l=n.createContext({});function t(s){const a=n.useContext(l);return n.useMemo((()=>"function"==typeof s?s(a):{...a,...s}),[a,s])}const m={};function i({components:s,children:a,disableParentContext:e}){let i;return i=e?"function"==typeof s?s({}):s||m:t(s),n.createElement(l.Provider,{value:i},a)}}}]);